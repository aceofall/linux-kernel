# 2주차 Study Note (2013/05/04)

## Status
 - 인원: 27명
 - 장소: [성균관대학교 자연과학캠퍼스] (http://www.skku.edu/new_home/skku/campusinfo/location1.jsp)
 - 진도: [리눅스 커널 내부구조] (http://www.kangcom.com/sub/view.asp?sku=200809290003&mcd=571) (~p.150) <br  /> <br  />

## Notice
 - Zone, Node, Page Frame 의 내용을 다수의 인원이 이해하지 못하여, 해당 내용을 다시 한번 remind 수행 <br  /> <br  />



## Issue (Non-clear)
- [ ] **1. page frame의 경우 왜 4KB를 사용하는 것일까?** [[#5]](https://github.com/arm10c/linux-stable/issues/5)
    > [fragmentation] (https://en.wikipedia.org/wiki/Paging#Fragmentation) 문제이거나, 기존 관행적으로 사용해오던 암묵적인 rule 일 것이다.

  <br />
- [ ] **2. Slab, Slub, Slob의 의미가 교재를 통해 이해하기 어려움**
    
    > 오랜 동안 커널의 동적 메모리 할당자는 slab이었다. <br />
    > slab은 일반적인 환경에서 무난한 성능을 보여주었기 때문에 널리 사용되었지만 <br /> 
    > 메모리 자원에 상당한 제한을 받는 임베디드 환경에서나 매우 높은 확장성이 요구되는 서버 환경에서는 <br />
    > 용납하기 힘든 overhead를 지니고 있기 때문에 새로운 할당 알고리즘이 사용되고 있다. <br />

    > slob과 slub 할당자는 각각 2.6.16과 2.6.22 버전에서 추가된 것으로 <br />
    > 단 1KiB의 메모리도 아쉬운 제한적인 임베디드 환경에서는 slob을, <br />
    > 많은 수의 CPU와 (메모리) 노드로 구성된 서버 환경에서는 slub을 사용할 수 있다. <br />
    > (2.6.23 버전 이후로는 x86에서 기본 할당자로 slab 대신 slub이 설정되어 있다.)
   
    > 많은 커널 서적에서 이미 자세히 설명하고 있지만 <br />
    > 먼저 slab 할당자의 구조에 대해서 간략하게 살펴본 후에 slub과 slob에 대해서도 살펴보기로 하자.
    
    > 사실 slab 할당자는 일반적인 할당자가 아니라 특정한 객체(자료 구조)에 대해서만 할당을 수행하기 때문에 <br />
    > slab을 이용하기 위해서는 먼저 해당 slab이 어떤 객체를 다룰지 지정해 주어야 한다. <br />
    > 다르게 표현하면, slab이 해당 객체에 대한 캐시를 관리해주는 역할을 한다고 볼 수 있으므로 <br />
    > 먼저 객체에 대한 캐시를 만들어 두고 이 후에 필요할 때 캐시에서 객체를 할당받을 수 있는 것이다. <br />
    
    > 따라서 slab 할당자는 주어진 객체의 크기에 따라 커널의 buddy system으로부터 적당한 수의 페이지를 할당받고 <br />
    > 이를 하나로 묶어 여러 객체를 저장할 수 있는 단위로 관리하는데 이것이 바로 slab이다. <br />
    > 아래는 2개의 페이지로 구성된 하나의 slab을 나타낸 그림이다. <br /> 
    ![image](https://cloud.githubusercontent.com/assets/4760134/12009492/488e64dc-acbd-11e5-86b8-e1c8e42d0f46.png)
